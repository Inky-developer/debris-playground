(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n(4),c=n(24),i=n(7),l=n(12),a=n(23),s=n(22),d=n(11),u=n(28),f=n(29),h=n(14),p=n(13);const b=n(15);let g=1;const m=document.getElementById("error_banner"),y=document.getElementById("opt_mode");document.getElementById("btn_debug").onclick=()=>{g=0,y.innerText="Optimizations: None",k()},document.getElementById("btn_release").onclick=()=>{g=1,y.innerText="Optimizations: Full",k()};const w=[r.d.editable.of(()=>!1)],_=new r.d({state:o.f.create({extensions:w}),parent:document.getElementById("code_output")});let v=localStorage.getItem("last_code");const I=new URLSearchParams(window.location.search).get("code");null!==I&&(v=I);const x=new r.d({state:o.f.create({extensions:[r.d.updateListener.of(e=>{e.docChanged&&k()}),Object(u.a)(),Object(s.a)(),Object(i.k)(),d.a.fallback,Object(l.a)(),Object(a.a)(),Object(r.h)(),r.i.of([...a.b,...c.c,...s.b,{key:"Tab",run:c.b,shift:c.a}]),Object(f.a)()],doc:v}),parent:document.getElementById("code_input")});function k(){let e=x.state.doc.toString();try{const t=p.c(e,g);let n;const r=t.error;n=null!==r?r:t.data,_.setState(o.f.create({doc:n,extensions:w}))}catch(t){console.log(t);const n=encodeURIComponent("The following code causes an internal compile error:\n```\n%%%\n```\n\n**Additional context**\nAdd any other relevant context about the problem here".replace("%%%",e)),o=`<div>The compiler crashed: "${t}".<br>This is a bug. ${'Please consider reporting this error at the <a target="_blank" href=https://github.com/Inky-developer/debris/issues/new?assignees=&labels=ICE%2C+bug&body=%%%&title=ICE:>github repository</a>!'.replace("%%%",n)}</div>`;m.innerHTML=o,m.style.visibility="visible"}}fetch("https://api.github.com/repos/Inky-developer/debris/contents/examples").then(e=>e.json()).then(e=>{let t=[],n=[];for(let o of e){const e=o.name,r=o.download_url;n.push(fetch(r).then(e=>e.text()).then(n=>t.push({name:e,content:n})).catch(e=>console.log(e)))}Promise.all(n).then(()=>{const e=document.getElementById("example_dropdown_list");e.innerHTML="",t.sort();for(let n of t){let t=document.createElement("a");t.innerText=n.name,t.onclick=()=>{return e=n.content,void x.dispatch({changes:{from:0,to:x.state.doc.length,insert:e}});var e},e.appendChild(t)}})}),k(),window.onunload=()=>localStorage.setItem("last_code",x.state.doc.toString()),document.getElementById("permalink").onclick=()=>window.location.href="https://inky-developer.github.io/debris-playground/?code="+encodeURIComponent(x.state.doc.toString()),document.getElementById("download").onclick=()=>function(){let e=JSON.parse(p.d(x.state.doc.toString())),t=new b;!function e(t,n){for(let o of n.dirs){e(t.folder(o.name),o.content)}for(let e of n.files)t.file(e.name,e.content)}(t,e),t.generateAsync({type:"blob"}).then(e=>Object(h.saveAs)(e,"debris_playground.zip"))}()},13:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return v}));var o=n(27);let r=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});r.decode();let c=null;function i(){return null!==c&&c.buffer===o.j.buffer||(c=new Uint8Array(o.j.buffer)),c}function l(e,t){return r.decode(i().subarray(e,e+t))}const a=new Array(32).fill(void 0);a.push(void 0,null,!0,!1);let s=a.length;function d(e){const t=function(e){return a[e]}(e);return function(e){e<36||(a[e]=s,s=e)}(e),t}let u=0;let f=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const h="function"==typeof f.encodeInto?function(e,t){return f.encodeInto(e,t)}:function(e,t){const n=f.encode(e);return t.set(n),{read:e.length,written:n.length}};function p(e,t,n){if(void 0===n){const n=f.encode(e),o=t(n.length);return i().subarray(o,o+n.length).set(n),u=n.length,o}let o=e.length,r=t(o);const c=i();let l=0;for(;l<o;l++){const t=e.charCodeAt(l);if(t>127)break;c[r+l]=t}if(l!==o){0!==l&&(e=e.slice(l)),r=n(r,o,o=l+3*e.length);const t=i().subarray(r+l,r+o);l+=h(e,t).written}return u=l,r}function b(e,t){var n=p(e,o.d,o.e),r=u,c=o.f(n,r,t);return w.__wrap(c)}let g=null;function m(){return null!==g&&g.buffer===o.j.buffer||(g=new Int32Array(o.j.buffer)),g}function y(e){try{const i=o.b(-16);var t=p(e,o.d,o.e),n=u;o.g(i,t,n);var r=m()[i/4+0],c=m()[i/4+1];let a;return 0!==r&&(a=l(r,c).slice(),o.c(r,1*c)),a}finally{o.b(16)}}class w{static __wrap(e){const t=Object.create(w.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.a(e)}get data(){return d(o.h(this.ptr))}get error(){return d(o.i(this.ptr))}}const _=function(e,t){return function(e){s===a.length&&a.push(a.length+1);const t=s;return s=a[t],a[t]=e,t}(l(e,t))},v=function(e,t){throw new Error(l(e,t))}}).call(this,n(26)(e))},27:function(e,t,n){"use strict";var o=n.w[e.i];e.exports=o;n(13);o.k()}}]);